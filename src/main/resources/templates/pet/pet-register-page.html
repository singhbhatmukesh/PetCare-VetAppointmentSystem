<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Register Pet | PetCare</title>

<!-- Bootstrap -->
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
	rel="stylesheet">
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css"
	rel="stylesheet">

<!-- Custom CSS -->
<link rel="stylesheet" th:href="@{/css/homePage.css}">
</head>
<body class="bg-light">

	<div class="page-wrapper">

		<!-- Header -->
		<div th:replace="~{user/user-fragments :: header}"></div>

		<!-- Page Content -->
		<main class="page-content">

			<section class="container mt-5">
				<div class="row justify-content-center">
					<div class="col-md-6">

						<div class="card shadow-sm">
							<div class="card-header bg-success text-white">
								<h5 class="mb-0">
									<i class="bi bi-plus-circle me-2"></i>Register New Pet
								</h5>
							</div>

							<div class="card-body">

								<!-- Error Message -->
								<div th:if="${error}" class="alert alert-danger text-center">
									<span th:text="${error}"></span>
								</div>

								<!-- Form -->
								<form th:action="@{/user/pets/addPet}" method="post" th:object="${pet}">

									<!-- Pet Name -->
									<div class="mb-3">
										<label class="form-label">Pet Name</label> <input type="text"
											class="form-control" th:field="*{name}"
											placeholder="Enter pet name" required>
									</div>

									<!-- Pet Type -->
									<div class="mb-3">
										<label class="form-label">Pet Type</label> <select
											class="form-select" th:field="*{type}" required>
											<option value="">-- Select Type --</option>
											<option value="Dog">Dog</option>
											<option value="Cat">Cat</option>
											<option value="Bird">Bird</option>
											<option value="Other">Other</option>
										</select>
									</div>

									<!-- Age -->
									<div class="mb-3">
										<label class="form-label">Age (Years)</label> <input
											type="number" class="form-control" th:field="*{age}" min="0"
											placeholder="Enter age" required>
									</div>

									<!-- Gender -->
									<div class="mb-3">
										<label class="form-label">Gender</label> <select
											class="form-select" th:field="*{gender}">
											<option value="Male">Male</option>
											<option value="Female">Female</option>
										</select>
									</div>

									<!-- Breed (Optional) -->
									<div class="mb-3">
										<label class="form-label">Breed</label> <input
											type="text" class="form-control" th:field="*{breed}"
											placeholder="Enter breed">
									</div>
									<!-- Medical History -->
									<div class="mb-3">
										<label class="form-label">Medical History</label>

										<!-- Quick Options -->
										<select class="form-select mb-2"
											onchange="setMedicalHistory(this.value)">
											<option value="">-- Select if applicable --</option>
											<option value="Previously visited vet">Previously
												visited vet</option>
											<option value="Running medication">Running
												medication</option>
											<option value="Vaccinated">Vaccinated</option>
											<option value="No medical issues">No medical issues</option>
										</select>

										<!-- Custom Description -->
										<textarea class="form-control" th:field="*{medicalHistory}"
											id="medicalHistory" rows="3"
											placeholder="Describe medical history if any..."></textarea>
									</div>


									<!-- Buttons -->
									<div class="d-flex justify-content-between">
										<a th:href="@{/user/pets}" class="btn btn-outline-secondary">
											<i class="bi bi-arrow-left"></i> Back
										</a>

										<button type="submit" class="btn btn-success">
											<i class="bi bi-check-circle me-1"></i> Register Pet
										</button>
									</div>

								</form>

							</div>
						</div>

					</div>
				</div>
			</section>

		</main>

		<!-- Footer -->
		<div th:replace="~{user/user-fragments :: footer}"></div>

	</div>

	<!-- Bootstrap JS -->
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

<script>
    function setMedicalHistory(value) {
        if (value) {
            document.getElementById("medicalHistory").value = value;
        }
    }
</script>

</body>
</html>
