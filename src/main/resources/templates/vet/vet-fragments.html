<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Vet Fragments</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>

    <!-- ================= HEADER ================= -->
  <th:block th:fragment="header">
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary-60">
        <div class="container-fluid position-relative px-5">

            <!-- Left: Brand -->
            <a class="navbar-brand fw-bold" th:href="@{/vet/home}">
                PetCare - VET PANEL
            </a>

            <!-- Right: Availability Toggle -->
            <div class="ms-auto">
                <form th:action="@{/vet/availability}" method="post">
                    <button type="submit"
                            class="btn btn-sm"
                            th:classappend="${loggedVet.isavailable} ? 'btn-success' : 'btn-outline-light'">

                        <i class="bi"
                           th:classappend="${loggedVet.isavailable} ? 'bi-check-circle' : 'bi-x-circle'"></i>

                        <span th:text="${loggedVet.isavailable} ? 'Available' : 'Unavailable'"></span>
                    </button>
                </form>
            </div>

        </div>
    </nav>
</th:block>


    <!-- ================= SIDEBAR ================= -->
    <th:block th:fragment="sidebar">
        <div class="sidebar bg-dark">
            <div class="sidebar-header text-center py-3 border-bottom">
                <h5 class="text-white mb-0">Vet Menu</h5>
            </div>

            <ul class="list-unstyled mt-3">

                <li>
                    <a th:href="@{/vet/home}">
                        <i class="bi bi-speedometer2 me-2"></i> Dashboard
                    </a>
                </li>

                <li>
                    <a th:href="@{/vet/pets}">
                        <i class="bi bi-heart-pulse me-2"></i> Assigned Pets
                    </a>
                </li>

                <li>
                    <a th:href="@{/vet/appointments}">
                        <i class="bi bi-calendar-check me-2"></i> Appointments
                    </a>
                </li>
                
                

                <li>
                    <a th:href="@{/vet/medications}">
                        <i class="bi bi-capsule me-2"></i> Medications
                    </a>
                </li>

                <li>
                    <a th:href="@{/vet/profile}">
                        <i class="bi bi-person-circle me-2"></i> My Profile
                    </a>
                </li>

            </ul>
        </div>
    </th:block>
    
    <th:block th:fragment="navbar">
    
    <!-- Top bar -->
        <nav class="navbar navbar-light bg-light border-bottom mb-4">
            <div class="container-fluid justify-content-end">
                <div class="dropdown">
                    <a class="nav-link dropdown-toggle fw-bold" href="#" data-bs-toggle="dropdown">
                        <i class="bi bi-person-circle me-1"></i>
                        <span th:text="${#authentication.principal.vet.name}">Vet</span>
                    </a>
                    <ul class="dropdown-menu dropdown-menu-end">
                        <li>
                            <form th:action="@{/vet/logout}" method="post">
                                <button class="dropdown-item text-danger">
                                    <i class="bi bi-box-arrow-right me-2"></i> Logout
                                </button>
                            </form>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </th:block>

    <!-- ================= FOOTER ================= -->
    <th:block th:fragment="footer">
        <footer class="bg-primary-60 text-white text-center py-3">
            <div class="container">
                <p class="mb-0">&copy; 2025 PetCare. All rights reserved.</p>
            </div>
        </footer>
    </th:block>

    <!-- Bootstrap JS Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
